import { supabase } from "../services/apiClient";

export const LoginButton = () => {
	const handleGoogleLogin = async () => {
		//1. Invoke Supabase's built-in OAuth method
		const { error } = await supabase.auth.signInWithOAuth({
			provider: "google",
			options: {
				//this tells supabase where to send the user after they successfully login on Google's page
				redirectTo: window.location.origin,
			},
		});

		if (error) {
			console.error("Error logging in: ", error.message);
		}
	};

	return (
		<button
			onClick={handleGoogleLogin}
			className="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-2xl"
		>
			Sign in with Google
		</button>
	);
};
